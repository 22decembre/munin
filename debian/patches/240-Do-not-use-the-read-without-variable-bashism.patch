From 717a7dadad040657e118e5102b2ba6aebf5b94fc Mon Sep 17 00:00:00 2001
From: intrigeri <intrigeri@debian.org>
Date: Sun, 25 Nov 2012 15:52:54 +0100
Subject: [PATCH] Do not use the "read without variable" bashism. (Closes:
 #690711)

---
 ...not-use-the-read-without-variable-bashism.patch |   21 ++++++++++++++++++++
 debian/patches/series                              |    1 +
 2 files changed, 22 insertions(+)
 create mode 100644 debian/patches/239-Do-not-use-the-read-without-variable-bashism.patch

diff --git a/debian/patches/239-Do-not-use-the-read-without-variable-bashism.patch b/debian/patches/239-Do-not-use-the-read-without-variable-bashism.patch
new file mode 100644
index 0000000..58765dc
--- /dev/null
+++ b/debian/patches/239-Do-not-use-the-read-without-variable-bashism.patch
@@ -0,0 +1,21 @@
+From: intrigeri <intrigeri@debian.org>
+Date: Wed, 21 Nov 2012 10:05:15 +0100
+Subject: Do not use the "read without variable" bashism.
+
+---
+ plugins/node.d.linux/selinux_avcstat.in |    2 +-
+ 1 file changed, 1 insertion(+), 1 deletion(-)
+
+diff --git a/plugins/node.d.linux/selinux_avcstat.in b/plugins/node.d.linux/selinux_avcstat.in
+index dc436ef..92abf13 100644
+--- a/plugins/node.d.linux/selinux_avcstat.in
++++ b/plugins/node.d.linux/selinux_avcstat.in
+@@ -85,7 +85,7 @@ if [ "$1" = "config" ]; then
+ fi
+ 
+ if [ -r $AVCSTATS ]; then
+-    { read
++    { read HEADER
+       while read lookups hits misses allocations reclaims frees; do
+         LOOKUPS=$(($LOOKUPS + $lookups))
+         HITS=$(($HITS + $hits))
diff --git a/debian/patches/series b/debian/patches/series
index 4f43be9..58ab1a8 100644
--- a/debian/patches/series
+++ b/debian/patches/series
@@ -1,3 +1,4 @@
 100-DejaVu-Fonts-Path.patch
 237-hddtemp_smartctl-sata-detect.patch
 238-munin-node-ipv6allow.patch
+239-Do-not-use-the-read-without-variable-bashism.patch
-- 
1.7.10.4

